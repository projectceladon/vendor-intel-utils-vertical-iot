From 8a973fd200572ba10eeb480c6e7917f60222cc61 Mon Sep 17 00:00:00 2001
From: gollarx <ratnakumarix.golla@intel.com>
Date: Wed, 14 Sep 2022 15:33:51 +0530
Subject: [PATCH] Fix to enable h/w codec

Enable h/w codec by default.

Tracked-On: OAM-103615
Signed-off-by: gollarx <ratnakumarix.golla@intel.com>
---
 groups/media/auto/auto_hal.in | 9 ++-------
 1 file changed, 2 insertions(+), 7 deletions(-)

diff --git a/groups/media/auto/auto_hal.in b/groups/media/auto/auto_hal.in
index c305683..21eed01 100644
--- a/groups/media/auto/auto_hal.in
+++ b/groups/media/auto/auto_hal.in
@@ -13,13 +13,8 @@ case "$(cat /proc/fb)" in
                 setprop vendor.intel.video.codec hardware
                 ;;
         *)
-                if [ "$(cat /sys/kernel/debug/dri/0/i915_sriov_info |grep virtualization |awk '{print $2}')" = "enabled" ];then
-                       echo "Intel SRIOV"
-                       setprop vendor.intel.video.codec hardware
-                else
-                       echo "software codec"
-                       setprop vendor.intel.video.codec software
-                fi
+                echo "Intel SRIOV"
+                setprop vendor.intel.video.codec hardware
                 ;;
 esac
 }
-- 
2.37.3

